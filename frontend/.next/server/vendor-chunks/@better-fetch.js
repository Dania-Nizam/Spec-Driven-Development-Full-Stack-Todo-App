"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@better-fetch";
exports.ids = ["vendor-chunks/@better-fetch"];
exports.modules = {

/***/ "(ssr)/./node_modules/@better-fetch/fetch/dist/index.js":
/*!********************************************************!*\
  !*** ./node_modules/@better-fetch/fetch/dist/index.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BetterFetchError: () => (/* binding */ BetterFetchError),\n/* harmony export */   ValidationError: () => (/* binding */ ValidationError),\n/* harmony export */   applySchemaPlugin: () => (/* binding */ applySchemaPlugin),\n/* harmony export */   betterFetch: () => (/* binding */ betterFetch),\n/* harmony export */   bodyParser: () => (/* binding */ bodyParser),\n/* harmony export */   createFetch: () => (/* binding */ createFetch),\n/* harmony export */   createRetryStrategy: () => (/* binding */ createRetryStrategy),\n/* harmony export */   createSchema: () => (/* binding */ createSchema),\n/* harmony export */   detectContentType: () => (/* binding */ detectContentType),\n/* harmony export */   detectResponseType: () => (/* binding */ detectResponseType),\n/* harmony export */   getBody: () => (/* binding */ getBody),\n/* harmony export */   getFetch: () => (/* binding */ getFetch),\n/* harmony export */   getHeaders: () => (/* binding */ getHeaders),\n/* harmony export */   getMethod: () => (/* binding */ getMethod),\n/* harmony export */   getTimeout: () => (/* binding */ getTimeout),\n/* harmony export */   getURL: () => (/* binding */ getURL),\n/* harmony export */   initializePlugins: () => (/* binding */ initializePlugins),\n/* harmony export */   isFunction: () => (/* binding */ isFunction),\n/* harmony export */   isJSONParsable: () => (/* binding */ isJSONParsable),\n/* harmony export */   isJSONSerializable: () => (/* binding */ isJSONSerializable),\n/* harmony export */   isPayloadMethod: () => (/* binding */ isPayloadMethod),\n/* harmony export */   isRouteMethod: () => (/* binding */ isRouteMethod),\n/* harmony export */   jsonParse: () => (/* binding */ jsonParse),\n/* harmony export */   methods: () => (/* binding */ methods),\n/* harmony export */   parseStandardSchema: () => (/* binding */ parseStandardSchema)\n/* harmony export */ });\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __spreadValues = (a, b)=>{\n    for(var prop in b || (b = {}))if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n    if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)){\n        if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n    }\n    return a;\n};\nvar __spreadProps = (a, b)=>__defProps(a, __getOwnPropDescs(b));\n// src/error.ts\nvar BetterFetchError = class extends Error {\n    constructor(status, statusText, error){\n        super(statusText || status.toString(), {\n            cause: error\n        });\n        this.status = status;\n        this.statusText = statusText;\n        this.error = error;\n        Error.captureStackTrace(this, this.constructor);\n    }\n};\n// src/plugins.ts\nvar initializePlugins = async (url, options)=>{\n    var _a, _b, _c, _d, _e, _f;\n    let opts = options || {};\n    const hooks = {\n        onRequest: [\n            options == null ? void 0 : options.onRequest\n        ],\n        onResponse: [\n            options == null ? void 0 : options.onResponse\n        ],\n        onSuccess: [\n            options == null ? void 0 : options.onSuccess\n        ],\n        onError: [\n            options == null ? void 0 : options.onError\n        ],\n        onRetry: [\n            options == null ? void 0 : options.onRetry\n        ]\n    };\n    if (!options || !(options == null ? void 0 : options.plugins)) {\n        return {\n            url,\n            options: opts,\n            hooks\n        };\n    }\n    for (const plugin of (options == null ? void 0 : options.plugins) || []){\n        if (plugin.init) {\n            const pluginRes = await ((_a = plugin.init) == null ? void 0 : _a.call(plugin, url.toString(), options));\n            opts = pluginRes.options || opts;\n            url = pluginRes.url;\n        }\n        hooks.onRequest.push((_b = plugin.hooks) == null ? void 0 : _b.onRequest);\n        hooks.onResponse.push((_c = plugin.hooks) == null ? void 0 : _c.onResponse);\n        hooks.onSuccess.push((_d = plugin.hooks) == null ? void 0 : _d.onSuccess);\n        hooks.onError.push((_e = plugin.hooks) == null ? void 0 : _e.onError);\n        hooks.onRetry.push((_f = plugin.hooks) == null ? void 0 : _f.onRetry);\n    }\n    return {\n        url,\n        options: opts,\n        hooks\n    };\n};\n// src/retry.ts\nvar LinearRetryStrategy = class {\n    constructor(options){\n        this.options = options;\n    }\n    shouldAttemptRetry(attempt, response) {\n        if (this.options.shouldRetry) {\n            return Promise.resolve(attempt < this.options.attempts && this.options.shouldRetry(response));\n        }\n        return Promise.resolve(attempt < this.options.attempts);\n    }\n    getDelay() {\n        return this.options.delay;\n    }\n};\nvar ExponentialRetryStrategy = class {\n    constructor(options){\n        this.options = options;\n    }\n    shouldAttemptRetry(attempt, response) {\n        if (this.options.shouldRetry) {\n            return Promise.resolve(attempt < this.options.attempts && this.options.shouldRetry(response));\n        }\n        return Promise.resolve(attempt < this.options.attempts);\n    }\n    getDelay(attempt) {\n        const delay = Math.min(this.options.maxDelay, this.options.baseDelay * 2 ** attempt);\n        return delay;\n    }\n};\nfunction createRetryStrategy(options) {\n    if (typeof options === \"number\") {\n        return new LinearRetryStrategy({\n            type: \"linear\",\n            attempts: options,\n            delay: 1e3\n        });\n    }\n    switch(options.type){\n        case \"linear\":\n            return new LinearRetryStrategy(options);\n        case \"exponential\":\n            return new ExponentialRetryStrategy(options);\n        default:\n            throw new Error(\"Invalid retry strategy\");\n    }\n}\n// src/auth.ts\nvar getAuthHeader = async (options)=>{\n    const headers = {};\n    const getValue = async (value)=>typeof value === \"function\" ? await value() : value;\n    if (options == null ? void 0 : options.auth) {\n        if (options.auth.type === \"Bearer\") {\n            const token = await getValue(options.auth.token);\n            if (!token) {\n                return headers;\n            }\n            headers[\"authorization\"] = `Bearer ${token}`;\n        } else if (options.auth.type === \"Basic\") {\n            const [username, password] = await Promise.all([\n                getValue(options.auth.username),\n                getValue(options.auth.password)\n            ]);\n            if (!username || !password) {\n                return headers;\n            }\n            headers[\"authorization\"] = `Basic ${btoa(`${username}:${password}`)}`;\n        } else if (options.auth.type === \"Custom\") {\n            const [prefix, value] = await Promise.all([\n                getValue(options.auth.prefix),\n                getValue(options.auth.value)\n            ]);\n            if (!value) {\n                return headers;\n            }\n            headers[\"authorization\"] = `${prefix != null ? prefix : \"\"} ${value}`;\n        }\n    }\n    return headers;\n};\n// src/utils.ts\nvar JSON_RE = /^application\\/(?:[\\w!#$%&*.^`~-]*\\+)?json(;.+)?$/i;\nfunction detectResponseType(request) {\n    const _contentType = request.headers.get(\"content-type\");\n    const textTypes = /* @__PURE__ */ new Set([\n        \"image/svg\",\n        \"application/xml\",\n        \"application/xhtml\",\n        \"application/html\"\n    ]);\n    if (!_contentType) {\n        return \"json\";\n    }\n    const contentType = _contentType.split(\";\").shift() || \"\";\n    if (JSON_RE.test(contentType)) {\n        return \"json\";\n    }\n    if (textTypes.has(contentType) || contentType.startsWith(\"text/\")) {\n        return \"text\";\n    }\n    return \"blob\";\n}\nfunction isJSONParsable(value) {\n    try {\n        JSON.parse(value);\n        return true;\n    } catch (error) {\n        return false;\n    }\n}\nfunction isJSONSerializable(value) {\n    if (value === void 0) {\n        return false;\n    }\n    const t = typeof value;\n    if (t === \"string\" || t === \"number\" || t === \"boolean\" || t === null) {\n        return true;\n    }\n    if (t !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(value)) {\n        return true;\n    }\n    if (value.buffer) {\n        return false;\n    }\n    return value.constructor && value.constructor.name === \"Object\" || typeof value.toJSON === \"function\";\n}\nfunction jsonParse(text) {\n    try {\n        return JSON.parse(text);\n    } catch (error) {\n        return text;\n    }\n}\nfunction isFunction(value) {\n    return typeof value === \"function\";\n}\nfunction getFetch(options) {\n    if (options == null ? void 0 : options.customFetchImpl) {\n        return options.customFetchImpl;\n    }\n    if (typeof globalThis !== \"undefined\" && isFunction(globalThis.fetch)) {\n        return globalThis.fetch;\n    }\n    if (false) {}\n    throw new Error(\"No fetch implementation found\");\n}\nfunction isPayloadMethod(method) {\n    if (!method) {\n        return false;\n    }\n    const payloadMethod = [\n        \"POST\",\n        \"PUT\",\n        \"PATCH\",\n        \"DELETE\"\n    ];\n    return payloadMethod.includes(method.toUpperCase());\n}\nfunction isRouteMethod(method) {\n    const routeMethod = [\n        \"GET\",\n        \"POST\",\n        \"PUT\",\n        \"PATCH\",\n        \"DELETE\"\n    ];\n    if (!method) {\n        return false;\n    }\n    return routeMethod.includes(method.toUpperCase());\n}\nasync function getHeaders(opts) {\n    const headers = new Headers(opts == null ? void 0 : opts.headers);\n    const authHeader = await getAuthHeader(opts);\n    for (const [key, value] of Object.entries(authHeader || {})){\n        headers.set(key, value);\n    }\n    if (!headers.has(\"content-type\")) {\n        const t = detectContentType(opts == null ? void 0 : opts.body);\n        if (t) {\n            headers.set(\"content-type\", t);\n        }\n    }\n    return headers;\n}\nfunction getURL(url, options) {\n    if (url.startsWith(\"@\")) {\n        const m = url.toString().split(\"@\")[1].split(\"/\")[0];\n        if (methods.includes(m)) {\n            url = url.replace(`@${m}/`, \"/\");\n        }\n    }\n    let _url;\n    try {\n        if (url.startsWith(\"http\")) {\n            _url = url;\n        } else {\n            let baseURL = options == null ? void 0 : options.baseURL;\n            if (baseURL && !(baseURL == null ? void 0 : baseURL.endsWith(\"/\"))) {\n                baseURL = baseURL + \"/\";\n            }\n            if (url.startsWith(\"/\")) {\n                _url = new URL(url.substring(1), baseURL);\n            } else {\n                _url = new URL(url, options == null ? void 0 : options.baseURL);\n            }\n        }\n    } catch (e) {\n        if (e instanceof TypeError) {\n            if (!(options == null ? void 0 : options.baseURL)) {\n                throw TypeError(`Invalid URL ${url}. Are you passing in a relative url but not setting the baseURL?`);\n            }\n            throw TypeError(`Invalid URL ${url}. Please validate that you are passing the correct input.`);\n        }\n        throw e;\n    }\n    if (options == null ? void 0 : options.params) {\n        if (Array.isArray(options == null ? void 0 : options.params)) {\n            const params = (options == null ? void 0 : options.params) ? Array.isArray(options.params) ? `/${options.params.join(\"/\")}` : `/${Object.values(options.params).join(\"/\")}` : \"\";\n            _url = _url.toString().split(\"/:\")[0];\n            _url = `${_url.toString()}${params}`;\n        } else {\n            for (const [key, value] of Object.entries(options == null ? void 0 : options.params)){\n                _url = _url.toString().replace(`:${key}`, String(value));\n            }\n        }\n    }\n    const __url = new URL(_url);\n    const queryParams = options == null ? void 0 : options.query;\n    if (queryParams) {\n        for (const [key, value] of Object.entries(queryParams)){\n            __url.searchParams.append(key, String(value));\n        }\n    }\n    return __url;\n}\nfunction detectContentType(body) {\n    if (isJSONSerializable(body)) {\n        return \"application/json\";\n    }\n    return null;\n}\nfunction getBody(options) {\n    if (!(options == null ? void 0 : options.body)) {\n        return null;\n    }\n    const headers = new Headers(options == null ? void 0 : options.headers);\n    if (isJSONSerializable(options.body) && !headers.has(\"content-type\")) {\n        for (const [key, value] of Object.entries(options == null ? void 0 : options.body)){\n            if (value instanceof Date) {\n                options.body[key] = value.toISOString();\n            }\n        }\n        return JSON.stringify(options.body);\n    }\n    if (headers.has(\"content-type\") && headers.get(\"content-type\") === \"application/x-www-form-urlencoded\") {\n        if (isJSONSerializable(options.body)) {\n            return new URLSearchParams(options.body).toString();\n        }\n        return options.body;\n    }\n    return options.body;\n}\nfunction getMethod(url, options) {\n    var _a;\n    if (options == null ? void 0 : options.method) {\n        return options.method.toUpperCase();\n    }\n    if (url.startsWith(\"@\")) {\n        const pMethod = (_a = url.split(\"@\")[1]) == null ? void 0 : _a.split(\"/\")[0];\n        if (!methods.includes(pMethod)) {\n            return (options == null ? void 0 : options.body) ? \"POST\" : \"GET\";\n        }\n        return pMethod.toUpperCase();\n    }\n    return (options == null ? void 0 : options.body) ? \"POST\" : \"GET\";\n}\nfunction getTimeout(options, controller) {\n    let abortTimeout;\n    if (!(options == null ? void 0 : options.signal) && (options == null ? void 0 : options.timeout)) {\n        abortTimeout = setTimeout(()=>controller == null ? void 0 : controller.abort(), options == null ? void 0 : options.timeout);\n    }\n    return {\n        abortTimeout,\n        clearTimeout: ()=>{\n            if (abortTimeout) {\n                clearTimeout(abortTimeout);\n            }\n        }\n    };\n}\nfunction bodyParser(data, responseType) {\n    if (responseType === \"json\") {\n        return JSON.parse(data);\n    }\n    return data;\n}\nvar ValidationError = class _ValidationError extends Error {\n    constructor(issues, message){\n        super(message || JSON.stringify(issues, null, 2));\n        this.issues = issues;\n        Object.setPrototypeOf(this, _ValidationError.prototype);\n    }\n};\nasync function parseStandardSchema(schema, input) {\n    const result = await schema[\"~standard\"].validate(input);\n    if (result.issues) {\n        throw new ValidationError(result.issues);\n    }\n    return result.value;\n}\n// src/create-fetch/schema.ts\nvar methods = [\n    \"get\",\n    \"post\",\n    \"put\",\n    \"patch\",\n    \"delete\"\n];\nvar createSchema = (schema, config)=>{\n    return {\n        schema,\n        config\n    };\n};\n// src/create-fetch/index.ts\nvar applySchemaPlugin = (config)=>({\n        id: \"apply-schema\",\n        name: \"Apply Schema\",\n        version: \"1.0.0\",\n        async init (url, options) {\n            var _a, _b, _c, _d;\n            const schema = ((_b = (_a = config.plugins) == null ? void 0 : _a.find((plugin)=>{\n                var _a2;\n                return ((_a2 = plugin.schema) == null ? void 0 : _a2.config) ? url.startsWith(plugin.schema.config.baseURL || \"\") || url.startsWith(plugin.schema.config.prefix || \"\") : false;\n            })) == null ? void 0 : _b.schema) || config.schema;\n            if (schema) {\n                let urlKey = url;\n                if ((_c = schema.config) == null ? void 0 : _c.prefix) {\n                    if (urlKey.startsWith(schema.config.prefix)) {\n                        urlKey = urlKey.replace(schema.config.prefix, \"\");\n                        if (schema.config.baseURL) {\n                            url = url.replace(schema.config.prefix, schema.config.baseURL);\n                        }\n                    }\n                }\n                if ((_d = schema.config) == null ? void 0 : _d.baseURL) {\n                    if (urlKey.startsWith(schema.config.baseURL)) {\n                        urlKey = urlKey.replace(schema.config.baseURL, \"\");\n                    }\n                }\n                const keySchema = schema.schema[urlKey];\n                if (keySchema) {\n                    let opts = __spreadProps(__spreadValues({}, options), {\n                        method: keySchema.method,\n                        output: keySchema.output\n                    });\n                    if (!(options == null ? void 0 : options.disableValidation)) {\n                        opts = __spreadProps(__spreadValues({}, opts), {\n                            body: keySchema.input ? await parseStandardSchema(keySchema.input, options == null ? void 0 : options.body) : options == null ? void 0 : options.body,\n                            params: keySchema.params ? await parseStandardSchema(keySchema.params, options == null ? void 0 : options.params) : options == null ? void 0 : options.params,\n                            query: keySchema.query ? await parseStandardSchema(keySchema.query, options == null ? void 0 : options.query) : options == null ? void 0 : options.query\n                        });\n                    }\n                    return {\n                        url,\n                        options: opts\n                    };\n                }\n            }\n            return {\n                url,\n                options\n            };\n        }\n    });\nvar createFetch = (config)=>{\n    async function $fetch(url, options) {\n        const opts = __spreadProps(__spreadValues(__spreadValues({}, config), options), {\n            plugins: [\n                ...(config == null ? void 0 : config.plugins) || [],\n                applySchemaPlugin(config || {}),\n                ...(options == null ? void 0 : options.plugins) || []\n            ]\n        });\n        if (config == null ? void 0 : config.catchAllError) {\n            try {\n                return await betterFetch(url, opts);\n            } catch (error) {\n                return {\n                    data: null,\n                    error: {\n                        status: 500,\n                        statusText: \"Fetch Error\",\n                        message: \"Fetch related error. Captured by catchAllError option. See error property for more details.\",\n                        error\n                    }\n                };\n            }\n        }\n        return await betterFetch(url, opts);\n    }\n    return $fetch;\n};\n// src/url.ts\nfunction getURL2(url, option) {\n    const { baseURL, params, query } = option || {\n        query: {},\n        params: {},\n        baseURL: \"\"\n    };\n    let basePath = url.startsWith(\"http\") ? url.split(\"/\").slice(0, 3).join(\"/\") : baseURL || \"\";\n    if (url.startsWith(\"@\")) {\n        const m = url.toString().split(\"@\")[1].split(\"/\")[0];\n        if (methods.includes(m)) {\n            url = url.replace(`@${m}/`, \"/\");\n        }\n    }\n    if (!basePath.endsWith(\"/\")) basePath += \"/\";\n    let [path, urlQuery] = url.replace(basePath, \"\").split(\"?\");\n    const queryParams = new URLSearchParams(urlQuery);\n    for (const [key, value] of Object.entries(query || {})){\n        if (value == null) continue;\n        let serializedValue;\n        if (typeof value === \"string\") {\n            serializedValue = value;\n        } else if (Array.isArray(value)) {\n            for (const val of value){\n                queryParams.append(key, val);\n            }\n            continue;\n        } else {\n            serializedValue = JSON.stringify(value);\n        }\n        queryParams.set(key, serializedValue);\n    }\n    if (params) {\n        if (Array.isArray(params)) {\n            const paramPaths = path.split(\"/\").filter((p)=>p.startsWith(\":\"));\n            for (const [index, key] of paramPaths.entries()){\n                const value = params[index];\n                path = path.replace(key, value);\n            }\n        } else {\n            for (const [key, value] of Object.entries(params)){\n                path = path.replace(`:${key}`, String(value));\n            }\n        }\n    }\n    path = path.split(\"/\").map(encodeURIComponent).join(\"/\");\n    if (path.startsWith(\"/\")) path = path.slice(1);\n    let queryParamString = queryParams.toString();\n    queryParamString = queryParamString.length > 0 ? `?${queryParamString}`.replace(/\\+/g, \"%20\") : \"\";\n    if (!basePath.startsWith(\"http\")) {\n        return `${basePath}${path}${queryParamString}`;\n    }\n    const _url = new URL(`${path}${queryParamString}`, basePath);\n    return _url;\n}\n// src/fetch.ts\nvar betterFetch = async (url, options)=>{\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    const { hooks, url: __url, options: opts } = await initializePlugins(url, options);\n    const fetch = getFetch(opts);\n    const controller = new AbortController();\n    const signal = (_a = opts.signal) != null ? _a : controller.signal;\n    const _url = getURL2(__url, opts);\n    const body = getBody(opts);\n    const headers = await getHeaders(opts);\n    const method = getMethod(__url, opts);\n    let context = __spreadProps(__spreadValues({}, opts), {\n        url: _url,\n        headers,\n        body,\n        method,\n        signal\n    });\n    for (const onRequest of hooks.onRequest){\n        if (onRequest) {\n            const res = await onRequest(context);\n            if (typeof res === \"object\" && res !== null) {\n                context = res;\n            }\n        }\n    }\n    if (\"pipeTo\" in context && typeof context.pipeTo === \"function\" || typeof ((_b = options == null ? void 0 : options.body) == null ? void 0 : _b.pipe) === \"function\") {\n        if (!(\"duplex\" in context)) {\n            context.duplex = \"half\";\n        }\n    }\n    const { clearTimeout: clearTimeout2 } = getTimeout(opts, controller);\n    let response = await fetch(context.url, context);\n    clearTimeout2();\n    const responseContext = {\n        response,\n        request: context\n    };\n    for (const onResponse of hooks.onResponse){\n        if (onResponse) {\n            const r = await onResponse(__spreadProps(__spreadValues({}, responseContext), {\n                response: ((_c = options == null ? void 0 : options.hookOptions) == null ? void 0 : _c.cloneResponse) ? response.clone() : response\n            }));\n            if (r instanceof Response) {\n                response = r;\n            } else if (typeof r === \"object\" && r !== null) {\n                response = r.response;\n            }\n        }\n    }\n    if (response.ok) {\n        const hasBody = context.method !== \"HEAD\";\n        if (!hasBody) {\n            return {\n                data: \"\",\n                error: null\n            };\n        }\n        const responseType = detectResponseType(response);\n        const successContext = {\n            data: null,\n            response,\n            request: context\n        };\n        if (responseType === \"json\" || responseType === \"text\") {\n            const text = await response.text();\n            const parser2 = (_d = context.jsonParser) != null ? _d : jsonParse;\n            successContext.data = await parser2(text);\n        } else {\n            successContext.data = await response[responseType]();\n        }\n        if (context == null ? void 0 : context.output) {\n            if (context.output && !context.disableValidation) {\n                successContext.data = await parseStandardSchema(context.output, successContext.data);\n            }\n        }\n        for (const onSuccess of hooks.onSuccess){\n            if (onSuccess) {\n                await onSuccess(__spreadProps(__spreadValues({}, successContext), {\n                    response: ((_e = options == null ? void 0 : options.hookOptions) == null ? void 0 : _e.cloneResponse) ? response.clone() : response\n                }));\n            }\n        }\n        if (options == null ? void 0 : options.throw) {\n            return successContext.data;\n        }\n        return {\n            data: successContext.data,\n            error: null\n        };\n    }\n    const parser = (_f = options == null ? void 0 : options.jsonParser) != null ? _f : jsonParse;\n    const responseText = await response.text();\n    const isJSONResponse = isJSONParsable(responseText);\n    const errorObject = isJSONResponse ? await parser(responseText) : null;\n    const errorContext = {\n        response,\n        responseText,\n        request: context,\n        error: __spreadProps(__spreadValues({}, errorObject), {\n            status: response.status,\n            statusText: response.statusText\n        })\n    };\n    for (const onError of hooks.onError){\n        if (onError) {\n            await onError(__spreadProps(__spreadValues({}, errorContext), {\n                response: ((_g = options == null ? void 0 : options.hookOptions) == null ? void 0 : _g.cloneResponse) ? response.clone() : response\n            }));\n        }\n    }\n    if (options == null ? void 0 : options.retry) {\n        const retryStrategy = createRetryStrategy(options.retry);\n        const _retryAttempt = (_h = options.retryAttempt) != null ? _h : 0;\n        if (await retryStrategy.shouldAttemptRetry(_retryAttempt, response)) {\n            for (const onRetry of hooks.onRetry){\n                if (onRetry) {\n                    await onRetry(responseContext);\n                }\n            }\n            const delay = retryStrategy.getDelay(_retryAttempt);\n            await new Promise((resolve)=>setTimeout(resolve, delay));\n            return await betterFetch(url, __spreadProps(__spreadValues({}, options), {\n                retryAttempt: _retryAttempt + 1\n            }));\n        }\n    }\n    if (options == null ? void 0 : options.throw) {\n        throw new BetterFetchError(response.status, response.statusText, isJSONResponse ? errorObject : responseText);\n    }\n    return {\n        data: null,\n        error: __spreadProps(__spreadValues({}, errorObject), {\n            status: response.status,\n            statusText: response.statusText\n        })\n    };\n};\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGJldHRlci1mZXRjaC9mZXRjaC9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxZQUFZQyxPQUFPQyxjQUFjO0FBQ3JDLElBQUlDLGFBQWFGLE9BQU9HLGdCQUFnQjtBQUN4QyxJQUFJQyxvQkFBb0JKLE9BQU9LLHlCQUF5QjtBQUN4RCxJQUFJQyxzQkFBc0JOLE9BQU9PLHFCQUFxQjtBQUN0RCxJQUFJQyxlQUFlUixPQUFPUyxTQUFTLENBQUNDLGNBQWM7QUFDbEQsSUFBSUMsZUFBZVgsT0FBT1MsU0FBUyxDQUFDRyxvQkFBb0I7QUFDeEQsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1mLFVBQVVlLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksaUJBQWlCLENBQUNDLEdBQUdDO0lBQ3ZCLElBQUssSUFBSUMsUUFBUUQsS0FBTUEsQ0FBQUEsSUFBSSxDQUFDLEdBQzFCLElBQUlkLGFBQWFnQixJQUFJLENBQUNGLEdBQUdDLE9BQ3ZCVixnQkFBZ0JRLEdBQUdFLE1BQU1ELENBQUMsQ0FBQ0MsS0FBSztJQUNwQyxJQUFJakIscUJBQ0YsS0FBSyxJQUFJaUIsUUFBUWpCLG9CQUFvQmdCLEdBQUk7UUFDdkMsSUFBSVgsYUFBYWEsSUFBSSxDQUFDRixHQUFHQyxPQUN2QlYsZ0JBQWdCUSxHQUFHRSxNQUFNRCxDQUFDLENBQUNDLEtBQUs7SUFDcEM7SUFDRixPQUFPRjtBQUNUO0FBQ0EsSUFBSUksZ0JBQWdCLENBQUNKLEdBQUdDLElBQU1wQixXQUFXbUIsR0FBR2pCLGtCQUFrQmtCO0FBRTlELGVBQWU7QUFDZixJQUFJSSxtQkFBbUIsY0FBY0M7SUFDbkNDLFlBQVlDLE1BQU0sRUFBRUMsVUFBVSxF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ZXRjaC9mZXRjaC9kaXN0L2luZGV4LmpzPzJjMDAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZlByb3BzID0gT2JqZWN0LmRlZmluZVByb3BlcnRpZXM7XG52YXIgX19nZXRPd25Qcm9wRGVzY3MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycztcbnZhciBfX2dldE93blByb3BTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcHJvcElzRW51bSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19zcHJlYWRWYWx1ZXMgPSAoYSwgYikgPT4ge1xuICBmb3IgKHZhciBwcm9wIGluIGIgfHwgKGIgPSB7fSkpXG4gICAgaWYgKF9faGFzT3duUHJvcC5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wKGEsIHByb3AsIGJbcHJvcF0pO1xuICBpZiAoX19nZXRPd25Qcm9wU3ltYm9scylcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0uY2FsbChiLCBwcm9wKSlcbiAgICAgICAgX19kZWZOb3JtYWxQcm9wKGEsIHByb3AsIGJbcHJvcF0pO1xuICAgIH1cbiAgcmV0dXJuIGE7XG59O1xudmFyIF9fc3ByZWFkUHJvcHMgPSAoYSwgYikgPT4gX19kZWZQcm9wcyhhLCBfX2dldE93blByb3BEZXNjcyhiKSk7XG5cbi8vIHNyYy9lcnJvci50c1xudmFyIEJldHRlckZldGNoRXJyb3IgPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3Ioc3RhdHVzLCBzdGF0dXNUZXh0LCBlcnJvcikge1xuICAgIHN1cGVyKHN0YXR1c1RleHQgfHwgc3RhdHVzLnRvU3RyaW5nKCksIHtcbiAgICAgIGNhdXNlOiBlcnJvclxuICAgIH0pO1xuICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgIHRoaXMuc3RhdHVzVGV4dCA9IHN0YXR1c1RleHQ7XG4gICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpO1xuICB9XG59O1xuXG4vLyBzcmMvcGx1Z2lucy50c1xudmFyIGluaXRpYWxpemVQbHVnaW5zID0gYXN5bmMgKHVybCwgb3B0aW9ucykgPT4ge1xuICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZjtcbiAgbGV0IG9wdHMgPSBvcHRpb25zIHx8IHt9O1xuICBjb25zdCBob29rcyA9IHtcbiAgICBvblJlcXVlc3Q6IFtvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLm9uUmVxdWVzdF0sXG4gICAgb25SZXNwb25zZTogW29wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMub25SZXNwb25zZV0sXG4gICAgb25TdWNjZXNzOiBbb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5vblN1Y2Nlc3NdLFxuICAgIG9uRXJyb3I6IFtvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLm9uRXJyb3JdLFxuICAgIG9uUmV0cnk6IFtvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLm9uUmV0cnldXG4gIH07XG4gIGlmICghb3B0aW9ucyB8fCAhKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMucGx1Z2lucykpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXJsLFxuICAgICAgb3B0aW9uczogb3B0cyxcbiAgICAgIGhvb2tzXG4gICAgfTtcbiAgfVxuICBmb3IgKGNvbnN0IHBsdWdpbiBvZiAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5wbHVnaW5zKSB8fCBbXSkge1xuICAgIGlmIChwbHVnaW4uaW5pdCkge1xuICAgICAgY29uc3QgcGx1Z2luUmVzID0gYXdhaXQgKChfYSA9IHBsdWdpbi5pbml0KSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChwbHVnaW4sIHVybC50b1N0cmluZygpLCBvcHRpb25zKSk7XG4gICAgICBvcHRzID0gcGx1Z2luUmVzLm9wdGlvbnMgfHwgb3B0cztcbiAgICAgIHVybCA9IHBsdWdpblJlcy51cmw7XG4gICAgfVxuICAgIGhvb2tzLm9uUmVxdWVzdC5wdXNoKChfYiA9IHBsdWdpbi5ob29rcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLm9uUmVxdWVzdCk7XG4gICAgaG9va3Mub25SZXNwb25zZS5wdXNoKChfYyA9IHBsdWdpbi5ob29rcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLm9uUmVzcG9uc2UpO1xuICAgIGhvb2tzLm9uU3VjY2Vzcy5wdXNoKChfZCA9IHBsdWdpbi5ob29rcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLm9uU3VjY2Vzcyk7XG4gICAgaG9va3Mub25FcnJvci5wdXNoKChfZSA9IHBsdWdpbi5ob29rcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9lLm9uRXJyb3IpO1xuICAgIGhvb2tzLm9uUmV0cnkucHVzaCgoX2YgPSBwbHVnaW4uaG9va3MpID09IG51bGwgPyB2b2lkIDAgOiBfZi5vblJldHJ5KTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHVybCxcbiAgICBvcHRpb25zOiBvcHRzLFxuICAgIGhvb2tzXG4gIH07XG59O1xuXG4vLyBzcmMvcmV0cnkudHNcbnZhciBMaW5lYXJSZXRyeVN0cmF0ZWd5ID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgfVxuICBzaG91bGRBdHRlbXB0UmV0cnkoYXR0ZW1wdCwgcmVzcG9uc2UpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLnNob3VsZFJldHJ5KSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFxuICAgICAgICBhdHRlbXB0IDwgdGhpcy5vcHRpb25zLmF0dGVtcHRzICYmIHRoaXMub3B0aW9ucy5zaG91bGRSZXRyeShyZXNwb25zZSlcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoYXR0ZW1wdCA8IHRoaXMub3B0aW9ucy5hdHRlbXB0cyk7XG4gIH1cbiAgZ2V0RGVsYXkoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5kZWxheTtcbiAgfVxufTtcbnZhciBFeHBvbmVudGlhbFJldHJ5U3RyYXRlZ3kgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICB9XG4gIHNob3VsZEF0dGVtcHRSZXRyeShhdHRlbXB0LCByZXNwb25zZSkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvdWxkUmV0cnkpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoXG4gICAgICAgIGF0dGVtcHQgPCB0aGlzLm9wdGlvbnMuYXR0ZW1wdHMgJiYgdGhpcy5vcHRpb25zLnNob3VsZFJldHJ5KHJlc3BvbnNlKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShhdHRlbXB0IDwgdGhpcy5vcHRpb25zLmF0dGVtcHRzKTtcbiAgfVxuICBnZXREZWxheShhdHRlbXB0KSB7XG4gICAgY29uc3QgZGVsYXkgPSBNYXRoLm1pbihcbiAgICAgIHRoaXMub3B0aW9ucy5tYXhEZWxheSxcbiAgICAgIHRoaXMub3B0aW9ucy5iYXNlRGVsYXkgKiAyICoqIGF0dGVtcHRcbiAgICApO1xuICAgIHJldHVybiBkZWxheTtcbiAgfVxufTtcbmZ1bmN0aW9uIGNyZWF0ZVJldHJ5U3RyYXRlZ3kob3B0aW9ucykge1xuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwibnVtYmVyXCIpIHtcbiAgICByZXR1cm4gbmV3IExpbmVhclJldHJ5U3RyYXRlZ3koe1xuICAgICAgdHlwZTogXCJsaW5lYXJcIixcbiAgICAgIGF0dGVtcHRzOiBvcHRpb25zLFxuICAgICAgZGVsYXk6IDFlM1xuICAgIH0pO1xuICB9XG4gIHN3aXRjaCAob3B0aW9ucy50eXBlKSB7XG4gICAgY2FzZSBcImxpbmVhclwiOlxuICAgICAgcmV0dXJuIG5ldyBMaW5lYXJSZXRyeVN0cmF0ZWd5KG9wdGlvbnMpO1xuICAgIGNhc2UgXCJleHBvbmVudGlhbFwiOlxuICAgICAgcmV0dXJuIG5ldyBFeHBvbmVudGlhbFJldHJ5U3RyYXRlZ3kob3B0aW9ucyk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcmV0cnkgc3RyYXRlZ3lcIik7XG4gIH1cbn1cblxuLy8gc3JjL2F1dGgudHNcbnZhciBnZXRBdXRoSGVhZGVyID0gYXN5bmMgKG9wdGlvbnMpID0+IHtcbiAgY29uc3QgaGVhZGVycyA9IHt9O1xuICBjb25zdCBnZXRWYWx1ZSA9IGFzeW5jICh2YWx1ZSkgPT4gdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIgPyBhd2FpdCB2YWx1ZSgpIDogdmFsdWU7XG4gIGlmIChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmF1dGgpIHtcbiAgICBpZiAob3B0aW9ucy5hdXRoLnR5cGUgPT09IFwiQmVhcmVyXCIpIHtcbiAgICAgIGNvbnN0IHRva2VuID0gYXdhaXQgZ2V0VmFsdWUob3B0aW9ucy5hdXRoLnRva2VuKTtcbiAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIGhlYWRlcnM7XG4gICAgICB9XG4gICAgICBoZWFkZXJzW1wiYXV0aG9yaXphdGlvblwiXSA9IGBCZWFyZXIgJHt0b2tlbn1gO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5hdXRoLnR5cGUgPT09IFwiQmFzaWNcIikge1xuICAgICAgY29uc3QgW3VzZXJuYW1lLCBwYXNzd29yZF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIGdldFZhbHVlKG9wdGlvbnMuYXV0aC51c2VybmFtZSksXG4gICAgICAgIGdldFZhbHVlKG9wdGlvbnMuYXV0aC5wYXNzd29yZClcbiAgICAgIF0pO1xuICAgICAgaWYgKCF1c2VybmFtZSB8fCAhcGFzc3dvcmQpIHtcbiAgICAgICAgcmV0dXJuIGhlYWRlcnM7XG4gICAgICB9XG4gICAgICBoZWFkZXJzW1wiYXV0aG9yaXphdGlvblwiXSA9IGBCYXNpYyAke2J0b2EoYCR7dXNlcm5hbWV9OiR7cGFzc3dvcmR9YCl9YDtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuYXV0aC50eXBlID09PSBcIkN1c3RvbVwiKSB7XG4gICAgICBjb25zdCBbcHJlZml4LCB2YWx1ZV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIGdldFZhbHVlKG9wdGlvbnMuYXV0aC5wcmVmaXgpLFxuICAgICAgICBnZXRWYWx1ZShvcHRpb25zLmF1dGgudmFsdWUpXG4gICAgICBdKTtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGhlYWRlcnM7XG4gICAgICB9XG4gICAgICBoZWFkZXJzW1wiYXV0aG9yaXphdGlvblwiXSA9IGAke3ByZWZpeCAhPSBudWxsID8gcHJlZml4IDogXCJcIn0gJHt2YWx1ZX1gO1xuICAgIH1cbiAgfVxuICByZXR1cm4gaGVhZGVycztcbn07XG5cbi8vIHNyYy91dGlscy50c1xudmFyIEpTT05fUkUgPSAvXmFwcGxpY2F0aW9uXFwvKD86W1xcdyEjJCUmKi5eYH4tXSpcXCspP2pzb24oOy4rKT8kL2k7XG5mdW5jdGlvbiBkZXRlY3RSZXNwb25zZVR5cGUocmVxdWVzdCkge1xuICBjb25zdCBfY29udGVudFR5cGUgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KFwiY29udGVudC10eXBlXCIpO1xuICBjb25zdCB0ZXh0VHlwZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbXG4gICAgXCJpbWFnZS9zdmdcIixcbiAgICBcImFwcGxpY2F0aW9uL3htbFwiLFxuICAgIFwiYXBwbGljYXRpb24veGh0bWxcIixcbiAgICBcImFwcGxpY2F0aW9uL2h0bWxcIlxuICBdKTtcbiAgaWYgKCFfY29udGVudFR5cGUpIHtcbiAgICByZXR1cm4gXCJqc29uXCI7XG4gIH1cbiAgY29uc3QgY29udGVudFR5cGUgPSBfY29udGVudFR5cGUuc3BsaXQoXCI7XCIpLnNoaWZ0KCkgfHwgXCJcIjtcbiAgaWYgKEpTT05fUkUudGVzdChjb250ZW50VHlwZSkpIHtcbiAgICByZXR1cm4gXCJqc29uXCI7XG4gIH1cbiAgaWYgKHRleHRUeXBlcy5oYXMoY29udGVudFR5cGUpIHx8IGNvbnRlbnRUeXBlLnN0YXJ0c1dpdGgoXCJ0ZXh0L1wiKSkge1xuICAgIHJldHVybiBcInRleHRcIjtcbiAgfVxuICByZXR1cm4gXCJibG9iXCI7XG59XG5mdW5jdGlvbiBpc0pTT05QYXJzYWJsZSh2YWx1ZSkge1xuICB0cnkge1xuICAgIEpTT04ucGFyc2UodmFsdWUpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuZnVuY3Rpb24gaXNKU09OU2VyaWFsaXphYmxlKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IHQgPSB0eXBlb2YgdmFsdWU7XG4gIGlmICh0ID09PSBcInN0cmluZ1wiIHx8IHQgPT09IFwibnVtYmVyXCIgfHwgdCA9PT0gXCJib29sZWFuXCIgfHwgdCA9PT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICh0ICE9PSBcIm9iamVjdFwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICh2YWx1ZS5idWZmZXIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHZhbHVlLmNvbnN0cnVjdG9yICYmIHZhbHVlLmNvbnN0cnVjdG9yLm5hbWUgPT09IFwiT2JqZWN0XCIgfHwgdHlwZW9mIHZhbHVlLnRvSlNPTiA9PT0gXCJmdW5jdGlvblwiO1xufVxuZnVuY3Rpb24ganNvblBhcnNlKHRleHQpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gdGV4dDtcbiAgfVxufVxuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCI7XG59XG5mdW5jdGlvbiBnZXRGZXRjaChvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmN1c3RvbUZldGNoSW1wbCkge1xuICAgIHJldHVybiBvcHRpb25zLmN1c3RvbUZldGNoSW1wbDtcbiAgfVxuICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgIT09IFwidW5kZWZpbmVkXCIgJiYgaXNGdW5jdGlvbihnbG9iYWxUaGlzLmZldGNoKSkge1xuICAgIHJldHVybiBnbG9iYWxUaGlzLmZldGNoO1xuICB9XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIGlzRnVuY3Rpb24od2luZG93LmZldGNoKSkge1xuICAgIHJldHVybiB3aW5kb3cuZmV0Y2g7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFwiTm8gZmV0Y2ggaW1wbGVtZW50YXRpb24gZm91bmRcIik7XG59XG5mdW5jdGlvbiBpc1BheWxvYWRNZXRob2QobWV0aG9kKSB7XG4gIGlmICghbWV0aG9kKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IHBheWxvYWRNZXRob2QgPSBbXCJQT1NUXCIsIFwiUFVUXCIsIFwiUEFUQ0hcIiwgXCJERUxFVEVcIl07XG4gIHJldHVybiBwYXlsb2FkTWV0aG9kLmluY2x1ZGVzKG1ldGhvZC50b1VwcGVyQ2FzZSgpKTtcbn1cbmZ1bmN0aW9uIGlzUm91dGVNZXRob2QobWV0aG9kKSB7XG4gIGNvbnN0IHJvdXRlTWV0aG9kID0gW1wiR0VUXCIsIFwiUE9TVFwiLCBcIlBVVFwiLCBcIlBBVENIXCIsIFwiREVMRVRFXCJdO1xuICBpZiAoIW1ldGhvZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gcm91dGVNZXRob2QuaW5jbHVkZXMobWV0aG9kLnRvVXBwZXJDYXNlKCkpO1xufVxuYXN5bmMgZnVuY3Rpb24gZ2V0SGVhZGVycyhvcHRzKSB7XG4gIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRzID09IG51bGwgPyB2b2lkIDAgOiBvcHRzLmhlYWRlcnMpO1xuICBjb25zdCBhdXRoSGVhZGVyID0gYXdhaXQgZ2V0QXV0aEhlYWRlcihvcHRzKTtcbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoYXV0aEhlYWRlciB8fCB7fSkpIHtcbiAgICBoZWFkZXJzLnNldChrZXksIHZhbHVlKTtcbiAgfVxuICBpZiAoIWhlYWRlcnMuaGFzKFwiY29udGVudC10eXBlXCIpKSB7XG4gICAgY29uc3QgdCA9IGRldGVjdENvbnRlbnRUeXBlKG9wdHMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdHMuYm9keSk7XG4gICAgaWYgKHQpIHtcbiAgICAgIGhlYWRlcnMuc2V0KFwiY29udGVudC10eXBlXCIsIHQpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gaGVhZGVycztcbn1cbmZ1bmN0aW9uIGdldFVSTCh1cmwsIG9wdGlvbnMpIHtcbiAgaWYgKHVybC5zdGFydHNXaXRoKFwiQFwiKSkge1xuICAgIGNvbnN0IG0gPSB1cmwudG9TdHJpbmcoKS5zcGxpdChcIkBcIilbMV0uc3BsaXQoXCIvXCIpWzBdO1xuICAgIGlmIChtZXRob2RzLmluY2x1ZGVzKG0pKSB7XG4gICAgICB1cmwgPSB1cmwucmVwbGFjZShgQCR7bX0vYCwgXCIvXCIpO1xuICAgIH1cbiAgfVxuICBsZXQgX3VybDtcbiAgdHJ5IHtcbiAgICBpZiAodXJsLnN0YXJ0c1dpdGgoXCJodHRwXCIpKSB7XG4gICAgICBfdXJsID0gdXJsO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgYmFzZVVSTCA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuYmFzZVVSTDtcbiAgICAgIGlmIChiYXNlVVJMICYmICEoYmFzZVVSTCA9PSBudWxsID8gdm9pZCAwIDogYmFzZVVSTC5lbmRzV2l0aChcIi9cIikpKSB7XG4gICAgICAgIGJhc2VVUkwgPSBiYXNlVVJMICsgXCIvXCI7XG4gICAgICB9XG4gICAgICBpZiAodXJsLnN0YXJ0c1dpdGgoXCIvXCIpKSB7XG4gICAgICAgIF91cmwgPSBuZXcgVVJMKHVybC5zdWJzdHJpbmcoMSksIGJhc2VVUkwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3VybCA9IG5ldyBVUkwodXJsLCBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmJhc2VVUkwpO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChlIGluc3RhbmNlb2YgVHlwZUVycm9yKSB7XG4gICAgICBpZiAoIShvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmJhc2VVUkwpKSB7XG4gICAgICAgIHRocm93IFR5cGVFcnJvcihcbiAgICAgICAgICBgSW52YWxpZCBVUkwgJHt1cmx9LiBBcmUgeW91IHBhc3NpbmcgaW4gYSByZWxhdGl2ZSB1cmwgYnV0IG5vdCBzZXR0aW5nIHRoZSBiYXNlVVJMP2BcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHRocm93IFR5cGVFcnJvcihcbiAgICAgICAgYEludmFsaWQgVVJMICR7dXJsfS4gUGxlYXNlIHZhbGlkYXRlIHRoYXQgeW91IGFyZSBwYXNzaW5nIHRoZSBjb3JyZWN0IGlucHV0LmBcbiAgICAgICk7XG4gICAgfVxuICAgIHRocm93IGU7XG4gIH1cbiAgaWYgKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMucGFyYW1zKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5wYXJhbXMpKSB7XG4gICAgICBjb25zdCBwYXJhbXMgPSAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5wYXJhbXMpID8gQXJyYXkuaXNBcnJheShvcHRpb25zLnBhcmFtcykgPyBgLyR7b3B0aW9ucy5wYXJhbXMuam9pbihcIi9cIil9YCA6IGAvJHtPYmplY3QudmFsdWVzKG9wdGlvbnMucGFyYW1zKS5qb2luKFwiL1wiKX1gIDogXCJcIjtcbiAgICAgIF91cmwgPSBfdXJsLnRvU3RyaW5nKCkuc3BsaXQoXCIvOlwiKVswXTtcbiAgICAgIF91cmwgPSBgJHtfdXJsLnRvU3RyaW5nKCl9JHtwYXJhbXN9YDtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5wYXJhbXMpKSB7XG4gICAgICAgIF91cmwgPSBfdXJsLnRvU3RyaW5nKCkucmVwbGFjZShgOiR7a2V5fWAsIFN0cmluZyh2YWx1ZSkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb25zdCBfX3VybCA9IG5ldyBVUkwoX3VybCk7XG4gIGNvbnN0IHF1ZXJ5UGFyYW1zID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5xdWVyeTtcbiAgaWYgKHF1ZXJ5UGFyYW1zKSB7XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocXVlcnlQYXJhbXMpKSB7XG4gICAgICBfX3VybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGtleSwgU3RyaW5nKHZhbHVlKSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBfX3VybDtcbn1cbmZ1bmN0aW9uIGRldGVjdENvbnRlbnRUeXBlKGJvZHkpIHtcbiAgaWYgKGlzSlNPTlNlcmlhbGl6YWJsZShib2R5KSkge1xuICAgIHJldHVybiBcImFwcGxpY2F0aW9uL2pzb25cIjtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGdldEJvZHkob3B0aW9ucykge1xuICBpZiAoIShvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmJvZHkpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaGVhZGVycyk7XG4gIGlmIChpc0pTT05TZXJpYWxpemFibGUob3B0aW9ucy5ib2R5KSAmJiAhaGVhZGVycy5oYXMoXCJjb250ZW50LXR5cGVcIikpIHtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmJvZHkpKSB7XG4gICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIG9wdGlvbnMuYm9keVtrZXldID0gdmFsdWUudG9JU09TdHJpbmcoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9wdGlvbnMuYm9keSk7XG4gIH1cbiAgaWYgKGhlYWRlcnMuaGFzKFwiY29udGVudC10eXBlXCIpICYmIGhlYWRlcnMuZ2V0KFwiY29udGVudC10eXBlXCIpID09PSBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSB7XG4gICAgaWYgKGlzSlNPTlNlcmlhbGl6YWJsZShvcHRpb25zLmJvZHkpKSB7XG4gICAgICByZXR1cm4gbmV3IFVSTFNlYXJjaFBhcmFtcyhvcHRpb25zLmJvZHkpLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zLmJvZHk7XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnMuYm9keTtcbn1cbmZ1bmN0aW9uIGdldE1ldGhvZCh1cmwsIG9wdGlvbnMpIHtcbiAgdmFyIF9hO1xuICBpZiAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5tZXRob2QpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5tZXRob2QudG9VcHBlckNhc2UoKTtcbiAgfVxuICBpZiAodXJsLnN0YXJ0c1dpdGgoXCJAXCIpKSB7XG4gICAgY29uc3QgcE1ldGhvZCA9IChfYSA9IHVybC5zcGxpdChcIkBcIilbMV0pID09IG51bGwgPyB2b2lkIDAgOiBfYS5zcGxpdChcIi9cIilbMF07XG4gICAgaWYgKCFtZXRob2RzLmluY2x1ZGVzKHBNZXRob2QpKSB7XG4gICAgICByZXR1cm4gKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuYm9keSkgPyBcIlBPU1RcIiA6IFwiR0VUXCI7XG4gICAgfVxuICAgIHJldHVybiBwTWV0aG9kLnRvVXBwZXJDYXNlKCk7XG4gIH1cbiAgcmV0dXJuIChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmJvZHkpID8gXCJQT1NUXCIgOiBcIkdFVFwiO1xufVxuZnVuY3Rpb24gZ2V0VGltZW91dChvcHRpb25zLCBjb250cm9sbGVyKSB7XG4gIGxldCBhYm9ydFRpbWVvdXQ7XG4gIGlmICghKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuc2lnbmFsKSAmJiAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy50aW1lb3V0KSkge1xuICAgIGFib3J0VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gY29udHJvbGxlciA9PSBudWxsID8gdm9pZCAwIDogY29udHJvbGxlci5hYm9ydCgpLCBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLnRpbWVvdXQpO1xuICB9XG4gIHJldHVybiB7XG4gICAgYWJvcnRUaW1lb3V0LFxuICAgIGNsZWFyVGltZW91dDogKCkgPT4ge1xuICAgICAgaWYgKGFib3J0VGltZW91dCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoYWJvcnRUaW1lb3V0KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBib2R5UGFyc2VyKGRhdGEsIHJlc3BvbnNlVHlwZSkge1xuICBpZiAocmVzcG9uc2VUeXBlID09PSBcImpzb25cIikge1xuICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpO1xuICB9XG4gIHJldHVybiBkYXRhO1xufVxudmFyIFZhbGlkYXRpb25FcnJvciA9IGNsYXNzIF9WYWxpZGF0aW9uRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKGlzc3VlcywgbWVzc2FnZSkge1xuICAgIHN1cGVyKG1lc3NhZ2UgfHwgSlNPTi5zdHJpbmdpZnkoaXNzdWVzLCBudWxsLCAyKSk7XG4gICAgdGhpcy5pc3N1ZXMgPSBpc3N1ZXM7XG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIF9WYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufTtcbmFzeW5jIGZ1bmN0aW9uIHBhcnNlU3RhbmRhcmRTY2hlbWEoc2NoZW1hLCBpbnB1dCkge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBzY2hlbWFbXCJ+c3RhbmRhcmRcIl0udmFsaWRhdGUoaW5wdXQpO1xuICBpZiAocmVzdWx0Lmlzc3Vlcykge1xuICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IocmVzdWx0Lmlzc3Vlcyk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdC52YWx1ZTtcbn1cblxuLy8gc3JjL2NyZWF0ZS1mZXRjaC9zY2hlbWEudHNcbnZhciBtZXRob2RzID0gW1wiZ2V0XCIsIFwicG9zdFwiLCBcInB1dFwiLCBcInBhdGNoXCIsIFwiZGVsZXRlXCJdO1xudmFyIGNyZWF0ZVNjaGVtYSA9IChzY2hlbWEsIGNvbmZpZykgPT4ge1xuICByZXR1cm4ge1xuICAgIHNjaGVtYSxcbiAgICBjb25maWdcbiAgfTtcbn07XG5cbi8vIHNyYy9jcmVhdGUtZmV0Y2gvaW5kZXgudHNcbnZhciBhcHBseVNjaGVtYVBsdWdpbiA9IChjb25maWcpID0+ICh7XG4gIGlkOiBcImFwcGx5LXNjaGVtYVwiLFxuICBuYW1lOiBcIkFwcGx5IFNjaGVtYVwiLFxuICB2ZXJzaW9uOiBcIjEuMC4wXCIsXG4gIGFzeW5jIGluaXQodXJsLCBvcHRpb25zKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIGNvbnN0IHNjaGVtYSA9ICgoX2IgPSAoX2EgPSBjb25maWcucGx1Z2lucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmZpbmQoXG4gICAgICAocGx1Z2luKSA9PiB7XG4gICAgICAgIHZhciBfYTI7XG4gICAgICAgIHJldHVybiAoKF9hMiA9IHBsdWdpbi5zY2hlbWEpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuY29uZmlnKSA/IHVybC5zdGFydHNXaXRoKHBsdWdpbi5zY2hlbWEuY29uZmlnLmJhc2VVUkwgfHwgXCJcIikgfHwgdXJsLnN0YXJ0c1dpdGgocGx1Z2luLnNjaGVtYS5jb25maWcucHJlZml4IHx8IFwiXCIpIDogZmFsc2U7XG4gICAgICB9XG4gICAgKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnNjaGVtYSkgfHwgY29uZmlnLnNjaGVtYTtcbiAgICBpZiAoc2NoZW1hKSB7XG4gICAgICBsZXQgdXJsS2V5ID0gdXJsO1xuICAgICAgaWYgKChfYyA9IHNjaGVtYS5jb25maWcpID09IG51bGwgPyB2b2lkIDAgOiBfYy5wcmVmaXgpIHtcbiAgICAgICAgaWYgKHVybEtleS5zdGFydHNXaXRoKHNjaGVtYS5jb25maWcucHJlZml4KSkge1xuICAgICAgICAgIHVybEtleSA9IHVybEtleS5yZXBsYWNlKHNjaGVtYS5jb25maWcucHJlZml4LCBcIlwiKTtcbiAgICAgICAgICBpZiAoc2NoZW1hLmNvbmZpZy5iYXNlVVJMKSB7XG4gICAgICAgICAgICB1cmwgPSB1cmwucmVwbGFjZShzY2hlbWEuY29uZmlnLnByZWZpeCwgc2NoZW1hLmNvbmZpZy5iYXNlVVJMKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICgoX2QgPSBzY2hlbWEuY29uZmlnKSA9PSBudWxsID8gdm9pZCAwIDogX2QuYmFzZVVSTCkge1xuICAgICAgICBpZiAodXJsS2V5LnN0YXJ0c1dpdGgoc2NoZW1hLmNvbmZpZy5iYXNlVVJMKSkge1xuICAgICAgICAgIHVybEtleSA9IHVybEtleS5yZXBsYWNlKHNjaGVtYS5jb25maWcuYmFzZVVSTCwgXCJcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGtleVNjaGVtYSA9IHNjaGVtYS5zY2hlbWFbdXJsS2V5XTtcbiAgICAgIGlmIChrZXlTY2hlbWEpIHtcbiAgICAgICAgbGV0IG9wdHMgPSBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBvcHRpb25zKSwge1xuICAgICAgICAgIG1ldGhvZDoga2V5U2NoZW1hLm1ldGhvZCxcbiAgICAgICAgICBvdXRwdXQ6IGtleVNjaGVtYS5vdXRwdXRcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuZGlzYWJsZVZhbGlkYXRpb24pKSB7XG4gICAgICAgICAgb3B0cyA9IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIG9wdHMpLCB7XG4gICAgICAgICAgICBib2R5OiBrZXlTY2hlbWEuaW5wdXQgPyBhd2FpdCBwYXJzZVN0YW5kYXJkU2NoZW1hKGtleVNjaGVtYS5pbnB1dCwgb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5ib2R5KSA6IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuYm9keSxcbiAgICAgICAgICAgIHBhcmFtczoga2V5U2NoZW1hLnBhcmFtcyA/IGF3YWl0IHBhcnNlU3RhbmRhcmRTY2hlbWEoa2V5U2NoZW1hLnBhcmFtcywgb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5wYXJhbXMpIDogb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5wYXJhbXMsXG4gICAgICAgICAgICBxdWVyeToga2V5U2NoZW1hLnF1ZXJ5ID8gYXdhaXQgcGFyc2VTdGFuZGFyZFNjaGVtYShrZXlTY2hlbWEucXVlcnksIG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMucXVlcnkpIDogb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5xdWVyeVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIG9wdGlvbnM6IG9wdHNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHVybCxcbiAgICAgIG9wdGlvbnNcbiAgICB9O1xuICB9XG59KTtcbnZhciBjcmVhdGVGZXRjaCA9IChjb25maWcpID0+IHtcbiAgYXN5bmMgZnVuY3Rpb24gJGZldGNoKHVybCwgb3B0aW9ucykge1xuICAgIGNvbnN0IG9wdHMgPSBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LCBjb25maWcpLCBvcHRpb25zKSwge1xuICAgICAgcGx1Z2luczogWy4uLihjb25maWcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbmZpZy5wbHVnaW5zKSB8fCBbXSwgYXBwbHlTY2hlbWFQbHVnaW4oY29uZmlnIHx8IHt9KSwgLi4uKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMucGx1Z2lucykgfHwgW11dXG4gICAgfSk7XG4gICAgaWYgKGNvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogY29uZmlnLmNhdGNoQWxsRXJyb3IpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBiZXR0ZXJGZXRjaCh1cmwsIG9wdHMpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICBzdGF0dXM6IDUwMCxcbiAgICAgICAgICAgIHN0YXR1c1RleHQ6IFwiRmV0Y2ggRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiRmV0Y2ggcmVsYXRlZCBlcnJvci4gQ2FwdHVyZWQgYnkgY2F0Y2hBbGxFcnJvciBvcHRpb24uIFNlZSBlcnJvciBwcm9wZXJ0eSBmb3IgbW9yZSBkZXRhaWxzLlwiLFxuICAgICAgICAgICAgZXJyb3JcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCBiZXR0ZXJGZXRjaCh1cmwsIG9wdHMpO1xuICB9XG4gIHJldHVybiAkZmV0Y2g7XG59O1xuXG4vLyBzcmMvdXJsLnRzXG5mdW5jdGlvbiBnZXRVUkwyKHVybCwgb3B0aW9uKSB7XG4gIGNvbnN0IHsgYmFzZVVSTCwgcGFyYW1zLCBxdWVyeSB9ID0gb3B0aW9uIHx8IHtcbiAgICBxdWVyeToge30sXG4gICAgcGFyYW1zOiB7fSxcbiAgICBiYXNlVVJMOiBcIlwiXG4gIH07XG4gIGxldCBiYXNlUGF0aCA9IHVybC5zdGFydHNXaXRoKFwiaHR0cFwiKSA/IHVybC5zcGxpdChcIi9cIikuc2xpY2UoMCwgMykuam9pbihcIi9cIikgOiBiYXNlVVJMIHx8IFwiXCI7XG4gIGlmICh1cmwuc3RhcnRzV2l0aChcIkBcIikpIHtcbiAgICBjb25zdCBtID0gdXJsLnRvU3RyaW5nKCkuc3BsaXQoXCJAXCIpWzFdLnNwbGl0KFwiL1wiKVswXTtcbiAgICBpZiAobWV0aG9kcy5pbmNsdWRlcyhtKSkge1xuICAgICAgdXJsID0gdXJsLnJlcGxhY2UoYEAke219L2AsIFwiL1wiKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFiYXNlUGF0aC5lbmRzV2l0aChcIi9cIikpIGJhc2VQYXRoICs9IFwiL1wiO1xuICBsZXQgW3BhdGgsIHVybFF1ZXJ5XSA9IHVybC5yZXBsYWNlKGJhc2VQYXRoLCBcIlwiKS5zcGxpdChcIj9cIik7XG4gIGNvbnN0IHF1ZXJ5UGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh1cmxRdWVyeSk7XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHF1ZXJ5IHx8IHt9KSkge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSBjb250aW51ZTtcbiAgICBsZXQgc2VyaWFsaXplZFZhbHVlO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHNlcmlhbGl6ZWRWYWx1ZSA9IHZhbHVlO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGZvciAoY29uc3QgdmFsIG9mIHZhbHVlKSB7XG4gICAgICAgIHF1ZXJ5UGFyYW1zLmFwcGVuZChrZXksIHZhbCk7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VyaWFsaXplZFZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgIH1cbiAgICBxdWVyeVBhcmFtcy5zZXQoa2V5LCBzZXJpYWxpemVkVmFsdWUpO1xuICB9XG4gIGlmIChwYXJhbXMpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJhbXMpKSB7XG4gICAgICBjb25zdCBwYXJhbVBhdGhzID0gcGF0aC5zcGxpdChcIi9cIikuZmlsdGVyKChwKSA9PiBwLnN0YXJ0c1dpdGgoXCI6XCIpKTtcbiAgICAgIGZvciAoY29uc3QgW2luZGV4LCBrZXldIG9mIHBhcmFtUGF0aHMuZW50cmllcygpKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcGFyYW1zW2luZGV4XTtcbiAgICAgICAgcGF0aCA9IHBhdGgucmVwbGFjZShrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocGFyYW1zKSkge1xuICAgICAgICBwYXRoID0gcGF0aC5yZXBsYWNlKGA6JHtrZXl9YCwgU3RyaW5nKHZhbHVlKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHBhdGggPSBwYXRoLnNwbGl0KFwiL1wiKS5tYXAoZW5jb2RlVVJJQ29tcG9uZW50KS5qb2luKFwiL1wiKTtcbiAgaWYgKHBhdGguc3RhcnRzV2l0aChcIi9cIikpIHBhdGggPSBwYXRoLnNsaWNlKDEpO1xuICBsZXQgcXVlcnlQYXJhbVN0cmluZyA9IHF1ZXJ5UGFyYW1zLnRvU3RyaW5nKCk7XG4gIHF1ZXJ5UGFyYW1TdHJpbmcgPSBxdWVyeVBhcmFtU3RyaW5nLmxlbmd0aCA+IDAgPyBgPyR7cXVlcnlQYXJhbVN0cmluZ31gLnJlcGxhY2UoL1xcKy9nLCBcIiUyMFwiKSA6IFwiXCI7XG4gIGlmICghYmFzZVBhdGguc3RhcnRzV2l0aChcImh0dHBcIikpIHtcbiAgICByZXR1cm4gYCR7YmFzZVBhdGh9JHtwYXRofSR7cXVlcnlQYXJhbVN0cmluZ31gO1xuICB9XG4gIGNvbnN0IF91cmwgPSBuZXcgVVJMKGAke3BhdGh9JHtxdWVyeVBhcmFtU3RyaW5nfWAsIGJhc2VQYXRoKTtcbiAgcmV0dXJuIF91cmw7XG59XG5cbi8vIHNyYy9mZXRjaC50c1xudmFyIGJldHRlckZldGNoID0gYXN5bmMgKHVybCwgb3B0aW9ucykgPT4ge1xuICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oO1xuICBjb25zdCB7XG4gICAgaG9va3MsXG4gICAgdXJsOiBfX3VybCxcbiAgICBvcHRpb25zOiBvcHRzXG4gIH0gPSBhd2FpdCBpbml0aWFsaXplUGx1Z2lucyh1cmwsIG9wdGlvbnMpO1xuICBjb25zdCBmZXRjaCA9IGdldEZldGNoKG9wdHMpO1xuICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICBjb25zdCBzaWduYWwgPSAoX2EgPSBvcHRzLnNpZ25hbCkgIT0gbnVsbCA/IF9hIDogY29udHJvbGxlci5zaWduYWw7XG4gIGNvbnN0IF91cmwgPSBnZXRVUkwyKF9fdXJsLCBvcHRzKTtcbiAgY29uc3QgYm9keSA9IGdldEJvZHkob3B0cyk7XG4gIGNvbnN0IGhlYWRlcnMgPSBhd2FpdCBnZXRIZWFkZXJzKG9wdHMpO1xuICBjb25zdCBtZXRob2QgPSBnZXRNZXRob2QoX191cmwsIG9wdHMpO1xuICBsZXQgY29udGV4dCA9IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIG9wdHMpLCB7XG4gICAgdXJsOiBfdXJsLFxuICAgIGhlYWRlcnMsXG4gICAgYm9keSxcbiAgICBtZXRob2QsXG4gICAgc2lnbmFsXG4gIH0pO1xuICBmb3IgKGNvbnN0IG9uUmVxdWVzdCBvZiBob29rcy5vblJlcXVlc3QpIHtcbiAgICBpZiAob25SZXF1ZXN0KSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBvblJlcXVlc3QoY29udGV4dCk7XG4gICAgICBpZiAodHlwZW9mIHJlcyA9PT0gXCJvYmplY3RcIiAmJiByZXMgIT09IG51bGwpIHtcbiAgICAgICAgY29udGV4dCA9IHJlcztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKFwicGlwZVRvXCIgaW4gY29udGV4dCAmJiB0eXBlb2YgY29udGV4dC5waXBlVG8gPT09IFwiZnVuY3Rpb25cIiB8fCB0eXBlb2YgKChfYiA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuYm9keSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnBpcGUpID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBpZiAoIShcImR1cGxleFwiIGluIGNvbnRleHQpKSB7XG4gICAgICBjb250ZXh0LmR1cGxleCA9IFwiaGFsZlwiO1xuICAgIH1cbiAgfVxuICBjb25zdCB7IGNsZWFyVGltZW91dDogY2xlYXJUaW1lb3V0MiB9ID0gZ2V0VGltZW91dChvcHRzLCBjb250cm9sbGVyKTtcbiAgbGV0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goY29udGV4dC51cmwsIGNvbnRleHQpO1xuICBjbGVhclRpbWVvdXQyKCk7XG4gIGNvbnN0IHJlc3BvbnNlQ29udGV4dCA9IHtcbiAgICByZXNwb25zZSxcbiAgICByZXF1ZXN0OiBjb250ZXh0XG4gIH07XG4gIGZvciAoY29uc3Qgb25SZXNwb25zZSBvZiBob29rcy5vblJlc3BvbnNlKSB7XG4gICAgaWYgKG9uUmVzcG9uc2UpIHtcbiAgICAgIGNvbnN0IHIgPSBhd2FpdCBvblJlc3BvbnNlKF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHJlc3BvbnNlQ29udGV4dCksIHtcbiAgICAgICAgcmVzcG9uc2U6ICgoX2MgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmhvb2tPcHRpb25zKSA9PSBudWxsID8gdm9pZCAwIDogX2MuY2xvbmVSZXNwb25zZSkgPyByZXNwb25zZS5jbG9uZSgpIDogcmVzcG9uc2VcbiAgICAgIH0pKTtcbiAgICAgIGlmIChyIGluc3RhbmNlb2YgUmVzcG9uc2UpIHtcbiAgICAgICAgcmVzcG9uc2UgPSByO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgciA9PT0gXCJvYmplY3RcIiAmJiByICE9PSBudWxsKSB7XG4gICAgICAgIHJlc3BvbnNlID0gci5yZXNwb25zZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgY29uc3QgaGFzQm9keSA9IGNvbnRleHQubWV0aG9kICE9PSBcIkhFQURcIjtcbiAgICBpZiAoIWhhc0JvZHkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRhdGE6IFwiXCIsXG4gICAgICAgIGVycm9yOiBudWxsXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCByZXNwb25zZVR5cGUgPSBkZXRlY3RSZXNwb25zZVR5cGUocmVzcG9uc2UpO1xuICAgIGNvbnN0IHN1Y2Nlc3NDb250ZXh0ID0ge1xuICAgICAgZGF0YTogbnVsbCxcbiAgICAgIHJlc3BvbnNlLFxuICAgICAgcmVxdWVzdDogY29udGV4dFxuICAgIH07XG4gICAgaWYgKHJlc3BvbnNlVHlwZSA9PT0gXCJqc29uXCIgfHwgcmVzcG9uc2VUeXBlID09PSBcInRleHRcIikge1xuICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgIGNvbnN0IHBhcnNlcjIgPSAoX2QgPSBjb250ZXh0Lmpzb25QYXJzZXIpICE9IG51bGwgPyBfZCA6IGpzb25QYXJzZTtcbiAgICAgIHN1Y2Nlc3NDb250ZXh0LmRhdGEgPSBhd2FpdCBwYXJzZXIyKHRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdWNjZXNzQ29udGV4dC5kYXRhID0gYXdhaXQgcmVzcG9uc2VbcmVzcG9uc2VUeXBlXSgpO1xuICAgIH1cbiAgICBpZiAoY29udGV4dCA9PSBudWxsID8gdm9pZCAwIDogY29udGV4dC5vdXRwdXQpIHtcbiAgICAgIGlmIChjb250ZXh0Lm91dHB1dCAmJiAhY29udGV4dC5kaXNhYmxlVmFsaWRhdGlvbikge1xuICAgICAgICBzdWNjZXNzQ29udGV4dC5kYXRhID0gYXdhaXQgcGFyc2VTdGFuZGFyZFNjaGVtYShcbiAgICAgICAgICBjb250ZXh0Lm91dHB1dCxcbiAgICAgICAgICBzdWNjZXNzQ29udGV4dC5kYXRhXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3Qgb25TdWNjZXNzIG9mIGhvb2tzLm9uU3VjY2Vzcykge1xuICAgICAgaWYgKG9uU3VjY2Vzcykge1xuICAgICAgICBhd2FpdCBvblN1Y2Nlc3MoX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgc3VjY2Vzc0NvbnRleHQpLCB7XG4gICAgICAgICAgcmVzcG9uc2U6ICgoX2UgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmhvb2tPcHRpb25zKSA9PSBudWxsID8gdm9pZCAwIDogX2UuY2xvbmVSZXNwb25zZSkgPyByZXNwb25zZS5jbG9uZSgpIDogcmVzcG9uc2VcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy50aHJvdykge1xuICAgICAgcmV0dXJuIHN1Y2Nlc3NDb250ZXh0LmRhdGE7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBkYXRhOiBzdWNjZXNzQ29udGV4dC5kYXRhLFxuICAgICAgZXJyb3I6IG51bGxcbiAgICB9O1xuICB9XG4gIGNvbnN0IHBhcnNlciA9IChfZiA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuanNvblBhcnNlcikgIT0gbnVsbCA/IF9mIDoganNvblBhcnNlO1xuICBjb25zdCByZXNwb25zZVRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gIGNvbnN0IGlzSlNPTlJlc3BvbnNlID0gaXNKU09OUGFyc2FibGUocmVzcG9uc2VUZXh0KTtcbiAgY29uc3QgZXJyb3JPYmplY3QgPSBpc0pTT05SZXNwb25zZSA/IGF3YWl0IHBhcnNlcihyZXNwb25zZVRleHQpIDogbnVsbDtcbiAgY29uc3QgZXJyb3JDb250ZXh0ID0ge1xuICAgIHJlc3BvbnNlLFxuICAgIHJlc3BvbnNlVGV4dCxcbiAgICByZXF1ZXN0OiBjb250ZXh0LFxuICAgIGVycm9yOiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBlcnJvck9iamVjdCksIHtcbiAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgc3RhdHVzVGV4dDogcmVzcG9uc2Uuc3RhdHVzVGV4dFxuICAgIH0pXG4gIH07XG4gIGZvciAoY29uc3Qgb25FcnJvciBvZiBob29rcy5vbkVycm9yKSB7XG4gICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgIGF3YWl0IG9uRXJyb3IoX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgZXJyb3JDb250ZXh0KSwge1xuICAgICAgICByZXNwb25zZTogKChfZyA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaG9va09wdGlvbnMpID09IG51bGwgPyB2b2lkIDAgOiBfZy5jbG9uZVJlc3BvbnNlKSA/IHJlc3BvbnNlLmNsb25lKCkgOiByZXNwb25zZVxuICAgICAgfSkpO1xuICAgIH1cbiAgfVxuICBpZiAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5yZXRyeSkge1xuICAgIGNvbnN0IHJldHJ5U3RyYXRlZ3kgPSBjcmVhdGVSZXRyeVN0cmF0ZWd5KG9wdGlvbnMucmV0cnkpO1xuICAgIGNvbnN0IF9yZXRyeUF0dGVtcHQgPSAoX2ggPSBvcHRpb25zLnJldHJ5QXR0ZW1wdCkgIT0gbnVsbCA/IF9oIDogMDtcbiAgICBpZiAoYXdhaXQgcmV0cnlTdHJhdGVneS5zaG91bGRBdHRlbXB0UmV0cnkoX3JldHJ5QXR0ZW1wdCwgcmVzcG9uc2UpKSB7XG4gICAgICBmb3IgKGNvbnN0IG9uUmV0cnkgb2YgaG9va3Mub25SZXRyeSkge1xuICAgICAgICBpZiAob25SZXRyeSkge1xuICAgICAgICAgIGF3YWl0IG9uUmV0cnkocmVzcG9uc2VDb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgZGVsYXkgPSByZXRyeVN0cmF0ZWd5LmdldERlbGF5KF9yZXRyeUF0dGVtcHQpO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXkpKTtcbiAgICAgIHJldHVybiBhd2FpdCBiZXR0ZXJGZXRjaCh1cmwsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIG9wdGlvbnMpLCB7XG4gICAgICAgIHJldHJ5QXR0ZW1wdDogX3JldHJ5QXR0ZW1wdCArIDFcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1cbiAgaWYgKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMudGhyb3cpIHtcbiAgICB0aHJvdyBuZXcgQmV0dGVyRmV0Y2hFcnJvcihcbiAgICAgIHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgIHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICBpc0pTT05SZXNwb25zZSA/IGVycm9yT2JqZWN0IDogcmVzcG9uc2VUZXh0XG4gICAgKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGRhdGE6IG51bGwsXG4gICAgZXJyb3I6IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGVycm9yT2JqZWN0KSwge1xuICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0XG4gICAgfSlcbiAgfTtcbn07XG5leHBvcnQge1xuICBCZXR0ZXJGZXRjaEVycm9yLFxuICBWYWxpZGF0aW9uRXJyb3IsXG4gIGFwcGx5U2NoZW1hUGx1Z2luLFxuICBiZXR0ZXJGZXRjaCxcbiAgYm9keVBhcnNlcixcbiAgY3JlYXRlRmV0Y2gsXG4gIGNyZWF0ZVJldHJ5U3RyYXRlZ3ksXG4gIGNyZWF0ZVNjaGVtYSxcbiAgZGV0ZWN0Q29udGVudFR5cGUsXG4gIGRldGVjdFJlc3BvbnNlVHlwZSxcbiAgZ2V0Qm9keSxcbiAgZ2V0RmV0Y2gsXG4gIGdldEhlYWRlcnMsXG4gIGdldE1ldGhvZCxcbiAgZ2V0VGltZW91dCxcbiAgZ2V0VVJMLFxuICBpbml0aWFsaXplUGx1Z2lucyxcbiAgaXNGdW5jdGlvbixcbiAgaXNKU09OUGFyc2FibGUsXG4gIGlzSlNPTlNlcmlhbGl6YWJsZSxcbiAgaXNQYXlsb2FkTWV0aG9kLFxuICBpc1JvdXRlTWV0aG9kLFxuICBqc29uUGFyc2UsXG4gIG1ldGhvZHMsXG4gIHBhcnNlU3RhbmRhcmRTY2hlbWFcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOlsiX19kZWZQcm9wIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJfX2RlZlByb3BzIiwiZGVmaW5lUHJvcGVydGllcyIsIl9fZ2V0T3duUHJvcERlc2NzIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsIl9fZ2V0T3duUHJvcFN5bWJvbHMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJfX2hhc093blByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsIl9fcHJvcElzRW51bSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiX19kZWZOb3JtYWxQcm9wIiwib2JqIiwia2V5IiwidmFsdWUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfX3NwcmVhZFZhbHVlcyIsImEiLCJiIiwicHJvcCIsImNhbGwiLCJfX3NwcmVhZFByb3BzIiwiQmV0dGVyRmV0Y2hFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiZXJyb3IiLCJ0b1N0cmluZyIsImNhdXNlIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJpbml0aWFsaXplUGx1Z2lucyIsInVybCIsIm9wdGlvbnMiLCJfYSIsIl9iIiwiX2MiLCJfZCIsIl9lIiwiX2YiLCJvcHRzIiwiaG9va3MiLCJvblJlcXVlc3QiLCJvblJlc3BvbnNlIiwib25TdWNjZXNzIiwib25FcnJvciIsIm9uUmV0cnkiLCJwbHVnaW5zIiwicGx1Z2luIiwiaW5pdCIsInBsdWdpblJlcyIsInB1c2giLCJMaW5lYXJSZXRyeVN0cmF0ZWd5Iiwic2hvdWxkQXR0ZW1wdFJldHJ5IiwiYXR0ZW1wdCIsInJlc3BvbnNlIiwic2hvdWxkUmV0cnkiLCJQcm9taXNlIiwicmVzb2x2ZSIsImF0dGVtcHRzIiwiZ2V0RGVsYXkiLCJkZWxheSIsIkV4cG9uZW50aWFsUmV0cnlTdHJhdGVneSIsIk1hdGgiLCJtaW4iLCJtYXhEZWxheSIsImJhc2VEZWxheSIsImNyZWF0ZVJldHJ5U3RyYXRlZ3kiLCJ0eXBlIiwiZ2V0QXV0aEhlYWRlciIsImhlYWRlcnMiLCJnZXRWYWx1ZSIsImF1dGgiLCJ0b2tlbiIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJhbGwiLCJidG9hIiwicHJlZml4IiwiSlNPTl9SRSIsImRldGVjdFJlc3BvbnNlVHlwZSIsInJlcXVlc3QiLCJfY29udGVudFR5cGUiLCJnZXQiLCJ0ZXh0VHlwZXMiLCJTZXQiLCJjb250ZW50VHlwZSIsInNwbGl0Iiwic2hpZnQiLCJ0ZXN0IiwiaGFzIiwic3RhcnRzV2l0aCIsImlzSlNPTlBhcnNhYmxlIiwiSlNPTiIsInBhcnNlIiwiaXNKU09OU2VyaWFsaXphYmxlIiwidCIsIkFycmF5IiwiaXNBcnJheSIsImJ1ZmZlciIsIm5hbWUiLCJ0b0pTT04iLCJqc29uUGFyc2UiLCJ0ZXh0IiwiaXNGdW5jdGlvbiIsImdldEZldGNoIiwiY3VzdG9tRmV0Y2hJbXBsIiwiZ2xvYmFsVGhpcyIsImZldGNoIiwid2luZG93IiwiaXNQYXlsb2FkTWV0aG9kIiwibWV0aG9kIiwicGF5bG9hZE1ldGhvZCIsImluY2x1ZGVzIiwidG9VcHBlckNhc2UiLCJpc1JvdXRlTWV0aG9kIiwicm91dGVNZXRob2QiLCJnZXRIZWFkZXJzIiwiSGVhZGVycyIsImF1dGhIZWFkZXIiLCJlbnRyaWVzIiwic2V0IiwiZGV0ZWN0Q29udGVudFR5cGUiLCJib2R5IiwiZ2V0VVJMIiwibSIsIm1ldGhvZHMiLCJyZXBsYWNlIiwiX3VybCIsImJhc2VVUkwiLCJlbmRzV2l0aCIsIlVSTCIsInN1YnN0cmluZyIsImUiLCJUeXBlRXJyb3IiLCJwYXJhbXMiLCJqb2luIiwidmFsdWVzIiwiU3RyaW5nIiwiX191cmwiLCJxdWVyeVBhcmFtcyIsInF1ZXJ5Iiwic2VhcmNoUGFyYW1zIiwiYXBwZW5kIiwiZ2V0Qm9keSIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInN0cmluZ2lmeSIsIlVSTFNlYXJjaFBhcmFtcyIsImdldE1ldGhvZCIsInBNZXRob2QiLCJnZXRUaW1lb3V0IiwiY29udHJvbGxlciIsImFib3J0VGltZW91dCIsInNpZ25hbCIsInRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiYWJvcnQiLCJjbGVhclRpbWVvdXQiLCJib2R5UGFyc2VyIiwiZGF0YSIsInJlc3BvbnNlVHlwZSIsIlZhbGlkYXRpb25FcnJvciIsIl9WYWxpZGF0aW9uRXJyb3IiLCJpc3N1ZXMiLCJtZXNzYWdlIiwic2V0UHJvdG90eXBlT2YiLCJwYXJzZVN0YW5kYXJkU2NoZW1hIiwic2NoZW1hIiwiaW5wdXQiLCJyZXN1bHQiLCJ2YWxpZGF0ZSIsImNyZWF0ZVNjaGVtYSIsImNvbmZpZyIsImFwcGx5U2NoZW1hUGx1Z2luIiwiaWQiLCJ2ZXJzaW9uIiwiZmluZCIsIl9hMiIsInVybEtleSIsImtleVNjaGVtYSIsIm91dHB1dCIsImRpc2FibGVWYWxpZGF0aW9uIiwiY3JlYXRlRmV0Y2giLCIkZmV0Y2giLCJjYXRjaEFsbEVycm9yIiwiYmV0dGVyRmV0Y2giLCJnZXRVUkwyIiwib3B0aW9uIiwiYmFzZVBhdGgiLCJzbGljZSIsInBhdGgiLCJ1cmxRdWVyeSIsInNlcmlhbGl6ZWRWYWx1ZSIsInZhbCIsInBhcmFtUGF0aHMiLCJmaWx0ZXIiLCJwIiwiaW5kZXgiLCJtYXAiLCJlbmNvZGVVUklDb21wb25lbnQiLCJxdWVyeVBhcmFtU3RyaW5nIiwibGVuZ3RoIiwiX2ciLCJfaCIsIkFib3J0Q29udHJvbGxlciIsImNvbnRleHQiLCJyZXMiLCJwaXBlVG8iLCJwaXBlIiwiZHVwbGV4IiwiY2xlYXJUaW1lb3V0MiIsInJlc3BvbnNlQ29udGV4dCIsInIiLCJob29rT3B0aW9ucyIsImNsb25lUmVzcG9uc2UiLCJjbG9uZSIsIlJlc3BvbnNlIiwib2siLCJoYXNCb2R5Iiwic3VjY2Vzc0NvbnRleHQiLCJwYXJzZXIyIiwianNvblBhcnNlciIsInRocm93IiwicGFyc2VyIiwicmVzcG9uc2VUZXh0IiwiaXNKU09OUmVzcG9uc2UiLCJlcnJvck9iamVjdCIsImVycm9yQ29udGV4dCIsInJldHJ5IiwicmV0cnlTdHJhdGVneSIsIl9yZXRyeUF0dGVtcHQiLCJyZXRyeUF0dGVtcHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@better-fetch/fetch/dist/index.js\n");

/***/ })

};
;